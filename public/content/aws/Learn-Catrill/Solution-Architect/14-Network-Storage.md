# 14: Network Storage

## EFS Architecture

Moving from EBS to EFS is tending towards more stateless applications on EC2.

- EFS is an implementation of NFSv4.
- EFS Filesystems can be mounted in Linux.
- Shared between many EC2 Instances.
- Private service, via **mount targets** inside a VPC.
- Can be accessed from on-premises - VPC or DX (Direct Connect).

> EBS is block storage, EFS is file storage.

### EFS Architecture

- EFS runs within a VPC.
- POSIX Permissions Filesystem.
- EFS is available within the VPC via Mount Targets.
- To ensure HA, you need to create mount targets within multiple Availability Zones.
- Mount targets are used by instances to connect.

### Things to notes about EFS

- Only available for Liunx.
- Two modes: General Purpose (web apps, etc. - default) and Max I/O (highly parallel - tradeoff of increased latency in exchange for better throughput and IOPS).
- Bursting (like gp2) and Provisioned Throughput (like io1) Modes.

There are two storage classes:

1. Standard
2. Infrequent Access
