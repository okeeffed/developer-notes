{"expireTime":9007200836888710000,"key":"gatsby-plugin-mdx-entire-payload-5a14d5e34a4418ff6c83f6a53dbad1fb-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":133,"offset":134},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":136},"end":{"line":5,"column":29,"offset":164},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"text","value":"EKS in Depth","position":{"start":{"line":8,"column":3,"offset":169},"end":{"line":8,"column":15,"offset":181},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":167},"end":{"line":8,"column":15,"offset":181},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This is more of a basic theory section to understand how EKS works.","position":{"start":{"line":10,"column":1,"offset":183},"end":{"line":10,"column":68,"offset":250},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":183},"end":{"line":10,"column":68,"offset":250},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Pricing","position":{"start":{"line":12,"column":4,"offset":255},"end":{"line":12,"column":11,"offset":262},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":252},"end":{"line":12,"column":11,"offset":262},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"USD$0.20 per hours for each EKS cluster you make. That's ~USD$144/month.","position":{"start":{"line":14,"column":1,"offset":264},"end":{"line":14,"column":73,"offset":336},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":264},"end":{"line":14,"column":73,"offset":336},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You pay normally for all the other resources related to running your apps:","position":{"start":{"line":16,"column":1,"offset":338},"end":{"line":16,"column":75,"offset":412},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":338},"end":{"line":16,"column":75,"offset":412},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Worker nodes (EC2)","position":{"start":{"line":18,"column":3,"offset":416},"end":{"line":18,"column":21,"offset":434},"indent":[]}}],"position":{"start":{"line":18,"column":3,"offset":416},"end":{"line":18,"column":21,"offset":434},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":414},"end":{"line":18,"column":21,"offset":434},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"EBS volumes","position":{"start":{"line":19,"column":3,"offset":437},"end":{"line":19,"column":14,"offset":448},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":437},"end":{"line":19,"column":14,"offset":448},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":435},"end":{"line":19,"column":14,"offset":448},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Network traffic","position":{"start":{"line":20,"column":3,"offset":451},"end":{"line":20,"column":18,"offset":466},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":451},"end":{"line":20,"column":18,"offset":466},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":449},"end":{"line":20,"column":18,"offset":466},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Load balancers","position":{"start":{"line":21,"column":3,"offset":469},"end":{"line":21,"column":17,"offset":483},"indent":[]}}],"position":{"start":{"line":21,"column":3,"offset":469},"end":{"line":21,"column":17,"offset":483},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":467},"end":{"line":21,"column":17,"offset":483},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":414},"end":{"line":21,"column":17,"offset":483},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Check online for if pricing ever changes.","position":{"start":{"line":23,"column":1,"offset":485},"end":{"line":23,"column":42,"offset":526},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":485},"end":{"line":23,"column":42,"offset":526},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"EKS Control Place","position":{"start":{"line":25,"column":4,"offset":531},"end":{"line":25,"column":21,"offset":548},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":528},"end":{"line":25,"column":21,"offset":548},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The control plane sets up the cluster to be highly available (in 3 availability zones).","position":{"start":{"line":27,"column":1,"offset":550},"end":{"line":27,"column":88,"offset":637},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":550},"end":{"line":27,"column":88,"offset":637},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Each AZ will have a master node and etcd that is AWS managed. The workers nodes are what we supply.","position":{"start":{"line":29,"column":1,"offset":639},"end":{"line":29,"column":100,"offset":738},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":639},"end":{"line":29,"column":100,"offset":738},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Our local ","position":{"start":{"line":31,"column":1,"offset":740},"end":{"line":31,"column":11,"offset":750},"indent":[]}},{"type":"inlineCode","value":"kubectl","position":{"start":{"line":31,"column":11,"offset":750},"end":{"line":31,"column":20,"offset":759},"indent":[]}},{"type":"text","value":" will talk directly to EKS.","position":{"start":{"line":31,"column":20,"offset":759},"end":{"line":31,"column":47,"offset":786},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":740},"end":{"line":31,"column":47,"offset":786},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Under the hood","position":{"start":{"line":33,"column":5,"offset":792},"end":{"line":33,"column":19,"offset":806},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":788},"end":{"line":33,"column":19,"offset":806},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"https://res.cloudinary.com/gitgoodclub/image/upload/v1548213794/eks-course/Screen_Shot_2019-01-23_at_2.22.40_pm.png","alt":"Under the hood","position":{"start":{"line":35,"column":1,"offset":808},"end":{"line":35,"column":135,"offset":942},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":808},"end":{"line":35,"column":135,"offset":942},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Single tenant (you do not share it with other customers)","position":{"start":{"line":37,"column":3,"offset":946},"end":{"line":37,"column":59,"offset":1002},"indent":[]}}],"position":{"start":{"line":37,"column":3,"offset":946},"end":{"line":37,"column":59,"offset":1002},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":944},"end":{"line":37,"column":59,"offset":1002},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Made of native AWS component (EC2, ELB, ASG, NLB, VPC)","position":{"start":{"line":38,"column":3,"offset":1005},"end":{"line":38,"column":57,"offset":1059},"indent":[]}}],"position":{"start":{"line":38,"column":3,"offset":1005},"end":{"line":38,"column":57,"offset":1059},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1003},"end":{"line":38,"column":57,"offset":1059},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":944},"end":{"line":38,"column":57,"offset":1059},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"EKS Networking","position":{"start":{"line":40,"column":4,"offset":1064},"end":{"line":40,"column":18,"offset":1078},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1061},"end":{"line":40,"column":18,"offset":1078},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"https://res.cloudinary.com/gitgoodclub/image/upload/v1548213958/eks-course/Screen_Shot_2019-01-23_at_2.25.49_pm.png","alt":"Network","position":{"start":{"line":42,"column":1,"offset":1080},"end":{"line":42,"column":128,"offset":1207},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":1080},"end":{"line":42,"column":128,"offset":1207},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Recommended to have:","position":{"start":{"line":44,"column":1,"offset":1209},"end":{"line":44,"column":21,"offset":1229},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":1209},"end":{"line":44,"column":21,"offset":1229},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Private subnets: containers all the worker nodes to have application deployed. Must be large CIDR.","position":{"start":{"line":46,"column":4,"offset":1234},"end":{"line":46,"column":102,"offset":1332},"indent":[]}}],"position":{"start":{"line":46,"column":4,"offset":1234},"end":{"line":46,"column":102,"offset":1332},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1231},"end":{"line":46,"column":102,"offset":1332},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Public subnets: Will contain any internet-facing load balancer to expose the applications.","position":{"start":{"line":47,"column":4,"offset":1336},"end":{"line":47,"column":94,"offset":1426},"indent":[]}}],"position":{"start":{"line":47,"column":4,"offset":1336},"end":{"line":47,"column":94,"offset":1426},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":1333},"end":{"line":47,"column":94,"offset":1426},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The VPC must have DNS hostname and DNS resolution support, otherwise nodes can't register.","position":{"start":{"line":48,"column":4,"offset":1430},"end":{"line":48,"column":94,"offset":1520},"indent":[]}}],"position":{"start":{"line":48,"column":4,"offset":1430},"end":{"line":48,"column":94,"offset":1520},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":1427},"end":{"line":48,"column":94,"offset":1520},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1231},"end":{"line":48,"column":94,"offset":1520},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Security groups","position":{"start":{"line":50,"column":5,"offset":1526},"end":{"line":50,"column":20,"offset":1541},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":1522},"end":{"line":50,"column":20,"offset":1541},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"https://res.cloudinary.com/gitgoodclub/image/upload/v1548214249/eks-course/Screen_Shot_2019-01-23_at_2.30.35_pm.png","alt":"Security groups explored","position":{"start":{"line":52,"column":1,"offset":1543},"end":{"line":52,"column":145,"offset":1687},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":1543},"end":{"line":52,"column":145,"offset":1687},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You have 2 security groups: ","position":{"start":{"line":54,"column":1,"offset":1689},"end":{"line":54,"column":29,"offset":1717},"indent":[]}},{"type":"inlineCode","value":"Control Plane","position":{"start":{"line":54,"column":29,"offset":1717},"end":{"line":54,"column":44,"offset":1732},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":54,"column":44,"offset":1732},"end":{"line":54,"column":49,"offset":1737},"indent":[]}},{"type":"inlineCode","value":"Worker Nodes","position":{"start":{"line":54,"column":49,"offset":1737},"end":{"line":54,"column":63,"offset":1751},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":54,"column":63,"offset":1751},"end":{"line":54,"column":64,"offset":1752},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":1689},"end":{"line":54,"column":64,"offset":1752},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Read up on ","position":{"start":{"line":56,"column":1,"offset":1754},"end":{"line":56,"column":12,"offset":1765},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/freach/kubernetes-security-best-practice","children":[{"type":"text","value":"https://github.com/freach/kubernetes-security-best-practice","position":{"start":{"line":56,"column":12,"offset":1765},"end":{"line":56,"column":71,"offset":1824},"indent":[]}}],"position":{"start":{"line":56,"column":12,"offset":1765},"end":{"line":56,"column":71,"offset":1824},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":56,"column":71,"offset":1824},"end":{"line":56,"column":72,"offset":1825},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1754},"end":{"line":56,"column":72,"offset":1825},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"EKS Pod Networking","position":{"start":{"line":58,"column":5,"offset":1831},"end":{"line":58,"column":23,"offset":1849},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":1827},"end":{"line":58,"column":23,"offset":1849},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Amazon VPC CNI plugin: each pod receivers 1 IP address (=ENI => Elastic Network Interface) in VPC.","position":{"start":{"line":60,"column":3,"offset":1853},"end":{"line":60,"column":101,"offset":1951},"indent":[]}}],"position":{"start":{"line":60,"column":3,"offset":1853},"end":{"line":60,"column":101,"offset":1951},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":1851},"end":{"line":60,"column":101,"offset":1951},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Pods have the same IP address inside the EKS cluster and outside of it.","position":{"start":{"line":61,"column":3,"offset":1954},"end":{"line":61,"column":74,"offset":2025},"indent":[]}}],"position":{"start":{"line":61,"column":3,"offset":1954},"end":{"line":61,"column":74,"offset":2025},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":1952},"end":{"line":61,"column":74,"offset":2025},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Subnet limitations: CIRD /24 is 254 IP, not enough to run a lot of pods. You'll need a way bigger CIDR. Recommended is a CIDR /18.","position":{"start":{"line":62,"column":3,"offset":2028},"end":{"line":62,"column":133,"offset":2158},"indent":[]}}],"position":{"start":{"line":62,"column":3,"offset":2028},"end":{"line":62,"column":133,"offset":2158},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":2026},"end":{"line":62,"column":133,"offset":2158},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"EC2 limitations: limited to amount of ENI/IP addresses it can have. Based on the network types, AWS has documentation on EC2 limits for ENIs, IPv4s and IPv6s.","position":{"start":{"line":63,"column":3,"offset":2161},"end":{"line":63,"column":161,"offset":2319},"indent":[]}}],"position":{"start":{"line":63,"column":3,"offset":2161},"end":{"line":63,"column":161,"offset":2319},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":2159},"end":{"line":63,"column":161,"offset":2319},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":1851},"end":{"line":63,"column":161,"offset":2319},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"See ","position":{"start":{"line":65,"column":1,"offset":2321},"end":{"line":65,"column":5,"offset":2325},"indent":[]}},{"type":"link","title":null,"url":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html","children":[{"type":"text","value":"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html","position":{"start":{"line":65,"column":5,"offset":2325},"end":{"line":65,"column":71,"offset":2391},"indent":[]}}],"position":{"start":{"line":65,"column":5,"offset":2325},"end":{"line":65,"column":71,"offset":2391},"indent":[]}},{"type":"text","value":" for more information on ENI limits.","position":{"start":{"line":65,"column":71,"offset":2391},"end":{"line":65,"column":107,"offset":2427},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":2321},"end":{"line":65,"column":107,"offset":2427},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Network security with Calico","position":{"start":{"line":67,"column":5,"offset":2433},"end":{"line":67,"column":33,"offset":2461},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":2429},"end":{"line":67,"column":33,"offset":2461},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Security groups allow all worker nodes to communicate to each other on any ports.","position":{"start":{"line":69,"column":3,"offset":2465},"end":{"line":69,"column":84,"offset":2546},"indent":[]}}],"position":{"start":{"line":69,"column":3,"offset":2465},"end":{"line":69,"column":84,"offset":2546},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":2463},"end":{"line":69,"column":84,"offset":2546},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"This may be a problem if you want to segement applications, tenants or environments.","position":{"start":{"line":70,"column":3,"offset":2549},"end":{"line":70,"column":87,"offset":2633},"indent":[]}}],"position":{"start":{"line":70,"column":3,"offset":2549},"end":{"line":70,"column":87,"offset":2633},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":2547},"end":{"line":70,"column":87,"offset":2633},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"You can use the Calico project instead of AWS Security Groups in this case.","position":{"start":{"line":71,"column":3,"offset":2636},"end":{"line":71,"column":78,"offset":2711},"indent":[]}}],"position":{"start":{"line":71,"column":3,"offset":2636},"end":{"line":71,"column":78,"offset":2711},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":2634},"end":{"line":71,"column":78,"offset":2711},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Network policies are directly assigned to pods (instead of worker nodes).","position":{"start":{"line":72,"column":3,"offset":2714},"end":{"line":72,"column":76,"offset":2787},"indent":[]}}],"position":{"start":{"line":72,"column":3,"offset":2714},"end":{"line":72,"column":76,"offset":2787},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":2712},"end":{"line":72,"column":76,"offset":2787},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"More granular.","position":{"start":{"line":73,"column":3,"offset":2790},"end":{"line":73,"column":17,"offset":2804},"indent":[]}}],"position":{"start":{"line":73,"column":3,"offset":2790},"end":{"line":73,"column":17,"offset":2804},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":2788},"end":{"line":73,"column":17,"offset":2804},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":2463},"end":{"line":73,"column":17,"offset":2804},"indent":[1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"IAM and RBAC Integration","position":{"start":{"line":75,"column":5,"offset":2810},"end":{"line":75,"column":29,"offset":2834},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":2806},"end":{"line":75,"column":29,"offset":2834},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"https://res.cloudinary.com/gitgoodclub/image/upload/v1548215421/eks-course/Screen_Shot_2019-01-23_at_2.50.02_pm.png","alt":"IAM and RBAC in action","position":{"start":{"line":77,"column":1,"offset":2836},"end":{"line":77,"column":143,"offset":2978},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":2836},"end":{"line":77,"column":143,"offset":2978},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note: RBAC means \"Role-Based-Access-Control\".","position":{"start":{"line":79,"column":1,"offset":2980},"end":{"line":79,"column":46,"offset":3025},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":2980},"end":{"line":79,"column":46,"offset":3025},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"When you talk to Kubernetes, authentication is held by IAM.","position":{"start":{"line":81,"column":3,"offset":3029},"end":{"line":81,"column":62,"offset":3088},"indent":[]}}],"position":{"start":{"line":81,"column":3,"offset":3029},"end":{"line":81,"column":62,"offset":3088},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":3027},"end":{"line":81,"column":62,"offset":3088},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Authorization is done by Kubernetes RBAC (native auth for K8s).","position":{"start":{"line":82,"column":3,"offset":3091},"end":{"line":82,"column":66,"offset":3154},"indent":[]}}],"position":{"start":{"line":82,"column":3,"offset":3091},"end":{"line":82,"column":66,"offset":3154},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":3089},"end":{"line":82,"column":66,"offset":3154},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Done through collaboration between AWS and Heptio.","position":{"start":{"line":83,"column":3,"offset":3157},"end":{"line":83,"column":53,"offset":3207},"indent":[]}}],"position":{"start":{"line":83,"column":3,"offset":3157},"end":{"line":83,"column":53,"offset":3207},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":3155},"end":{"line":83,"column":53,"offset":3207},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"You can assign RBAC directly through IAM entities.","position":{"start":{"line":84,"column":3,"offset":3210},"end":{"line":84,"column":53,"offset":3260},"indent":[]}}],"position":{"start":{"line":84,"column":3,"offset":3210},"end":{"line":84,"column":53,"offset":3260},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":3208},"end":{"line":84,"column":53,"offset":3260},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"By default, the role you assign to your K8s cluster has system:master permissions.","position":{"start":{"line":85,"column":3,"offset":3263},"end":{"line":85,"column":85,"offset":3345},"indent":[]}}],"position":{"start":{"line":85,"column":3,"offset":3263},"end":{"line":85,"column":85,"offset":3345},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":3261},"end":{"line":85,"column":85,"offset":3345},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":3027},"end":{"line":85,"column":85,"offset":3345},"indent":[1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"K8s Worker Nodes","position":{"start":{"line":87,"column":5,"offset":3351},"end":{"line":87,"column":21,"offset":3367},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":3347},"end":{"line":87,"column":21,"offset":3367},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"https://res.cloudinary.com/gitgoodclub/image/upload/v1548216415/eks-course/Screen_Shot_2019-01-23_at_3.06.44_pm.png","alt":"K8s Worker Nodes","position":{"start":{"line":89,"column":1,"offset":3369},"end":{"line":89,"column":137,"offset":3505},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":3369},"end":{"line":89,"column":137,"offset":3505},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"When the join the cluster, they are assigned an IAM role and authorized in RBAC to join ","position":{"start":{"line":91,"column":3,"offset":3509},"end":{"line":91,"column":91,"offset":3597},"indent":[]}},{"type":"inlineCode","value":"system:bootstrappers","position":{"start":{"line":91,"column":91,"offset":3597},"end":{"line":91,"column":113,"offset":3619},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":91,"column":113,"offset":3619},"end":{"line":91,"column":118,"offset":3624},"indent":[]}},{"type":"inlineCode","value":"system: nodes","position":{"start":{"line":91,"column":118,"offset":3624},"end":{"line":91,"column":133,"offset":3639},"indent":[]}},{"type":"text","value":" in your ConfigMap.","position":{"start":{"line":91,"column":133,"offset":3639},"end":{"line":91,"column":152,"offset":3658},"indent":[]}}],"position":{"start":{"line":91,"column":3,"offset":3509},"end":{"line":91,"column":152,"offset":3658},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":3507},"end":{"line":91,"column":152,"offset":3658},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":3507},"end":{"line":91,"column":152,"offset":3658},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can write your own rules in the ConfigMap.","position":{"start":{"line":93,"column":1,"offset":3660},"end":{"line":93,"column":47,"offset":3706},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":3660},"end":{"line":93,"column":47,"offset":3706},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"EKS Load Balancers","position":{"start":{"line":95,"column":5,"offset":3712},"end":{"line":95,"column":23,"offset":3730},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":3708},"end":{"line":95,"column":23,"offset":3730},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"EKS support ","position":{"start":{"line":97,"column":3,"offset":3734},"end":{"line":97,"column":15,"offset":3746},"indent":[]}},{"type":"inlineCode","value":"Classic Load Balancer","position":{"start":{"line":97,"column":15,"offset":3746},"end":{"line":97,"column":38,"offset":3769},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":97,"column":38,"offset":3769},"end":{"line":97,"column":40,"offset":3771},"indent":[]}},{"type":"inlineCode","value":"Application Load Balancer","position":{"start":{"line":97,"column":40,"offset":3771},"end":{"line":97,"column":67,"offset":3798},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":97,"column":67,"offset":3798},"end":{"line":97,"column":72,"offset":3803},"indent":[]}},{"type":"inlineCode","value":"Network Load Balancer","position":{"start":{"line":97,"column":72,"offset":3803},"end":{"line":97,"column":95,"offset":3826},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":97,"column":95,"offset":3826},"end":{"line":97,"column":96,"offset":3827},"indent":[]}}],"position":{"start":{"line":97,"column":3,"offset":3734},"end":{"line":97,"column":96,"offset":3827},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":3732},"end":{"line":97,"column":96,"offset":3827},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Classic and Network Load Balancer is for Service of type ","position":{"start":{"line":98,"column":3,"offset":3830},"end":{"line":98,"column":60,"offset":3887},"indent":[]}},{"type":"inlineCode","value":"LoadBalancer","position":{"start":{"line":98,"column":60,"offset":3887},"end":{"line":98,"column":74,"offset":3901},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":98,"column":74,"offset":3901},"end":{"line":98,"column":75,"offset":3902},"indent":[]}}],"position":{"start":{"line":98,"column":3,"offset":3830},"end":{"line":98,"column":75,"offset":3902},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":3828},"end":{"line":98,"column":75,"offset":3902},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Application Load Balancer is for Ingress Controller.","position":{"start":{"line":99,"column":3,"offset":3905},"end":{"line":99,"column":55,"offset":3957},"indent":[]}}],"position":{"start":{"line":99,"column":3,"offset":3905},"end":{"line":99,"column":55,"offset":3957},"indent":[]}}],"position":{"start":{"line":99,"column":1,"offset":3903},"end":{"line":99,"column":55,"offset":3957},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":3732},"end":{"line":99,"column":55,"offset":3957},"indent":[1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"LoadBalancer","position":{"start":{"line":101,"column":5,"offset":3963},"end":{"line":101,"column":17,"offset":3975},"indent":[]}}],"position":{"start":{"line":101,"column":1,"offset":3959},"end":{"line":101,"column":17,"offset":3975},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Through the service of type ","position":{"start":{"line":103,"column":1,"offset":3977},"end":{"line":103,"column":29,"offset":4005},"indent":[]}},{"type":"inlineCode","value":"LoadBalancer","position":{"start":{"line":103,"column":29,"offset":4005},"end":{"line":103,"column":43,"offset":4019},"indent":[]}},{"type":"text","value":", EKS will create a:","position":{"start":{"line":103,"column":43,"offset":4019},"end":{"line":103,"column":63,"offset":4039},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":3977},"end":{"line":103,"column":63,"offset":4039},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Classic Load Balancer by default.","position":{"start":{"line":105,"column":3,"offset":4043},"end":{"line":105,"column":36,"offset":4076},"indent":[]}}],"position":{"start":{"line":105,"column":3,"offset":4043},"end":{"line":105,"column":36,"offset":4076},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":4041},"end":{"line":105,"column":36,"offset":4076},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Netword Load Balancer if this is specified: ","position":{"start":{"line":106,"column":3,"offset":4079},"end":{"line":106,"column":47,"offset":4123},"indent":[]}},{"type":"inlineCode","value":"service.beta.kubernetes.io/aws-load-balancer-type:nlb","position":{"start":{"line":106,"column":47,"offset":4123},"end":{"line":106,"column":102,"offset":4178},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":106,"column":102,"offset":4178},"end":{"line":106,"column":103,"offset":4179},"indent":[]}}],"position":{"start":{"line":106,"column":3,"offset":4079},"end":{"line":106,"column":103,"offset":4179},"indent":[]}}],"position":{"start":{"line":106,"column":1,"offset":4077},"end":{"line":106,"column":103,"offset":4179},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"There is also support for internal load balancers: ","position":{"start":{"line":107,"column":3,"offset":4182},"end":{"line":107,"column":54,"offset":4233},"indent":[]}},{"type":"inlineCode","value":"service.beta.kubernetes.io//aws-load-balancer-internal:0.0.0.0/0","position":{"start":{"line":107,"column":54,"offset":4233},"end":{"line":107,"column":120,"offset":4299},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":107,"column":120,"offset":4299},"end":{"line":107,"column":121,"offset":4300},"indent":[]}}],"position":{"start":{"line":107,"column":3,"offset":4182},"end":{"line":107,"column":121,"offset":4300},"indent":[]}}],"position":{"start":{"line":107,"column":1,"offset":4180},"end":{"line":107,"column":121,"offset":4300},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"You can control the configuration of LBs using annotations in your manifest.","position":{"start":{"line":108,"column":3,"offset":4303},"end":{"line":108,"column":79,"offset":4379},"indent":[]}}],"position":{"start":{"line":108,"column":3,"offset":4303},"end":{"line":108,"column":79,"offset":4379},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":4301},"end":{"line":108,"column":79,"offset":4379},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"All documentation for ","position":{"start":{"line":109,"column":3,"offset":4382},"end":{"line":109,"column":25,"offset":4404},"indent":[]}},{"type":"inlineCode","value":"LoadBalancer","position":{"start":{"line":109,"column":25,"offset":4404},"end":{"line":109,"column":39,"offset":4418},"indent":[]}},{"type":"text","value":" on AWS is diretly on the Kubernetes project.","position":{"start":{"line":109,"column":39,"offset":4418},"end":{"line":109,"column":84,"offset":4463},"indent":[]}}],"position":{"start":{"line":109,"column":3,"offset":4382},"end":{"line":109,"column":84,"offset":4463},"indent":[]}}],"position":{"start":{"line":109,"column":1,"offset":4380},"end":{"line":109,"column":84,"offset":4463},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"ALB Ingress is open source and found on GitHub.","position":{"start":{"line":110,"column":3,"offset":4466},"end":{"line":110,"column":50,"offset":4513},"indent":[]}}],"position":{"start":{"line":110,"column":3,"offset":4466},"end":{"line":110,"column":50,"offset":4513},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":4464},"end":{"line":110,"column":50,"offset":4513},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Supports target group of instance mode (hooked into NodePort).","position":{"start":{"line":111,"column":3,"offset":4516},"end":{"line":111,"column":65,"offset":4578},"indent":[]}}],"position":{"start":{"line":111,"column":3,"offset":4516},"end":{"line":111,"column":65,"offset":4578},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":4514},"end":{"line":111,"column":65,"offset":4578},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Supports target group of IP mode (directly communicating with the pod).","position":{"start":{"line":112,"column":3,"offset":4581},"end":{"line":112,"column":74,"offset":4652},"indent":[]}}],"position":{"start":{"line":112,"column":3,"offset":4581},"end":{"line":112,"column":74,"offset":4652},"indent":[]}}],"position":{"start":{"line":112,"column":1,"offset":4579},"end":{"line":112,"column":74,"offset":4652},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Supports Application Load Balancer listener rules.","position":{"start":{"line":113,"column":3,"offset":4655},"end":{"line":113,"column":53,"offset":4705},"indent":[]}}],"position":{"start":{"line":113,"column":3,"offset":4655},"end":{"line":113,"column":53,"offset":4705},"indent":[]}}],"position":{"start":{"line":113,"column":1,"offset":4653},"end":{"line":113,"column":53,"offset":4705},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":4041},"end":{"line":113,"column":53,"offset":4705},"indent":[1,1,1,1,1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":116,"column":1,"offset":4708},"end":{"line":116,"column":31,"offset":4738},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":116,"column":31,"offset":4738}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/dennis.okeeffe/Project-Imposter/developer-notes/node_modules/gatsby-theme-docz/src/base/Layout.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"eks-in-depth\"\n    }}>{`EKS in Depth`}</h1>\n    <p>{`This is more of a basic theory section to understand how EKS works.`}</p>\n    <h2 {...{\n      \"id\": \"pricing\"\n    }}>{`Pricing`}</h2>\n    <p>{`USD$0.20 per hours for each EKS cluster you make. That's ~USD$144/month.`}</p>\n    <p>{`You pay normally for all the other resources related to running your apps:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Worker nodes (EC2)`}</li>\n      <li parentName=\"ul\">{`EBS volumes`}</li>\n      <li parentName=\"ul\">{`Network traffic`}</li>\n      <li parentName=\"ul\">{`Load balancers`}</li>\n    </ul>\n    <p>{`Check online for if pricing ever changes.`}</p>\n    <h2 {...{\n      \"id\": \"eks-control-place\"\n    }}>{`EKS Control Place`}</h2>\n    <p>{`The control plane sets up the cluster to be highly available (in 3 availability zones).`}</p>\n    <p>{`Each AZ will have a master node and etcd that is AWS managed. The workers nodes are what we supply.`}</p>\n    <p>{`Our local `}<inlineCode parentName=\"p\">{`kubectl`}</inlineCode>{` will talk directly to EKS.`}</p>\n    <h3 {...{\n      \"id\": \"under-the-hood\"\n    }}>{`Under the hood`}</h3>\n    <p><img alt=\"Under the hood\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1548213794/eks-course/Screen_Shot_2019-01-23_at_2.22.40_pm.png\" /></p>\n    <ul>\n      <li parentName=\"ul\">{`Single tenant (you do not share it with other customers)`}</li>\n      <li parentName=\"ul\">{`Made of native AWS component (EC2, ELB, ASG, NLB, VPC)`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"eks-networking\"\n    }}>{`EKS Networking`}</h2>\n    <p><img alt=\"Network\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1548213958/eks-course/Screen_Shot_2019-01-23_at_2.25.49_pm.png\" /></p>\n    <p>{`Recommended to have:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Private subnets: containers all the worker nodes to have application deployed. Must be large CIDR.`}</li>\n      <li parentName=\"ol\">{`Public subnets: Will contain any internet-facing load balancer to expose the applications.`}</li>\n      <li parentName=\"ol\">{`The VPC must have DNS hostname and DNS resolution support, otherwise nodes can't register.`}</li>\n    </ol>\n    <h3 {...{\n      \"id\": \"security-groups\"\n    }}>{`Security groups`}</h3>\n    <p><img alt=\"Security groups explored\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1548214249/eks-course/Screen_Shot_2019-01-23_at_2.30.35_pm.png\" /></p>\n    <p>{`You have 2 security groups: `}<inlineCode parentName=\"p\">{`Control Plane`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`Worker Nodes`}</inlineCode>{`.`}</p>\n    <p>{`Read up on `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/freach/kubernetes-security-best-practice\"\n      }}>{`https://github.com/freach/kubernetes-security-best-practice`}</a>{`.`}</p>\n    <h3 {...{\n      \"id\": \"eks-pod-networking\"\n    }}>{`EKS Pod Networking`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Amazon VPC CNI plugin: each pod receivers 1 IP address (=ENI => Elastic Network Interface) in VPC.`}</li>\n      <li parentName=\"ul\">{`Pods have the same IP address inside the EKS cluster and outside of it.`}</li>\n      <li parentName=\"ul\">{`Subnet limitations: CIRD /24 is 254 IP, not enough to run a lot of pods. You'll need a way bigger CIDR. Recommended is a CIDR /18.`}</li>\n      <li parentName=\"ul\">{`EC2 limitations: limited to amount of ENI/IP addresses it can have. Based on the network types, AWS has documentation on EC2 limits for ENIs, IPv4s and IPv6s.`}</li>\n    </ul>\n    <p>{`See `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html\"\n      }}>{`https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html`}</a>{` for more information on ENI limits.`}</p>\n    <h3 {...{\n      \"id\": \"network-security-with-calico\"\n    }}>{`Network security with Calico`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Security groups allow all worker nodes to communicate to each other on any ports.`}</li>\n      <li parentName=\"ul\">{`This may be a problem if you want to segement applications, tenants or environments.`}</li>\n      <li parentName=\"ul\">{`You can use the Calico project instead of AWS Security Groups in this case.`}</li>\n      <li parentName=\"ul\">{`Network policies are directly assigned to pods (instead of worker nodes).`}</li>\n      <li parentName=\"ul\">{`More granular.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"iam-and-rbac-integration\"\n    }}>{`IAM and RBAC Integration`}</h3>\n    <p><img alt=\"IAM and RBAC in action\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1548215421/eks-course/Screen_Shot_2019-01-23_at_2.50.02_pm.png\" /></p>\n    <p>{`Note: RBAC means \"Role-Based-Access-Control\".`}</p>\n    <ul>\n      <li parentName=\"ul\">{`When you talk to Kubernetes, authentication is held by IAM.`}</li>\n      <li parentName=\"ul\">{`Authorization is done by Kubernetes RBAC (native auth for K8s).`}</li>\n      <li parentName=\"ul\">{`Done through collaboration between AWS and Heptio.`}</li>\n      <li parentName=\"ul\">{`You can assign RBAC directly through IAM entities.`}</li>\n      <li parentName=\"ul\">{`By default, the role you assign to your K8s cluster has system:master permissions.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"k8s-worker-nodes\"\n    }}>{`K8s Worker Nodes`}</h3>\n    <p><img alt=\"K8s Worker Nodes\" src=\"https://res.cloudinary.com/gitgoodclub/image/upload/v1548216415/eks-course/Screen_Shot_2019-01-23_at_3.06.44_pm.png\" /></p>\n    <ul>\n      <li parentName=\"ul\">{`When the join the cluster, they are assigned an IAM role and authorized in RBAC to join `}<inlineCode parentName=\"li\">{`system:bootstrappers`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`system: nodes`}</inlineCode>{` in your ConfigMap.`}</li>\n    </ul>\n    <p>{`You can write your own rules in the ConfigMap.`}</p>\n    <h3 {...{\n      \"id\": \"eks-load-balancers\"\n    }}>{`EKS Load Balancers`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`EKS support `}<inlineCode parentName=\"li\">{`Classic Load Balancer`}</inlineCode>{`, `}<inlineCode parentName=\"li\">{`Application Load Balancer`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`Network Load Balancer`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\">{`Classic and Network Load Balancer is for Service of type `}<inlineCode parentName=\"li\">{`LoadBalancer`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\">{`Application Load Balancer is for Ingress Controller.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"loadbalancer\"\n    }}>{`LoadBalancer`}</h3>\n    <p>{`Through the service of type `}<inlineCode parentName=\"p\">{`LoadBalancer`}</inlineCode>{`, EKS will create a:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Classic Load Balancer by default.`}</li>\n      <li parentName=\"ul\">{`Netword Load Balancer if this is specified: `}<inlineCode parentName=\"li\">{`service.beta.kubernetes.io/aws-load-balancer-type:nlb`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\">{`There is also support for internal load balancers: `}<inlineCode parentName=\"li\">{`service.beta.kubernetes.io//aws-load-balancer-internal:0.0.0.0/0`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\">{`You can control the configuration of LBs using annotations in your manifest.`}</li>\n      <li parentName=\"ul\">{`All documentation for `}<inlineCode parentName=\"li\">{`LoadBalancer`}</inlineCode>{` on AWS is diretly on the Kubernetes project.`}</li>\n      <li parentName=\"ul\">{`ALB Ingress is open source and found on GitHub.`}</li>\n      <li parentName=\"ul\">{`Supports target group of instance mode (hooked into NodePort).`}</li>\n      <li parentName=\"ul\">{`Supports target group of IP mode (directly communicating with the pod).`}</li>\n      <li parentName=\"ul\">{`Supports Application Load Balancer listener rules.`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}